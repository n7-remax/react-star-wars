(this["webpackJsonpreact-star-wars"]=this["webpackJsonpreact-star-wars"]||[]).push([[0],{39:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a(0),r=a.n(s),i=a(32),c=a.n(i),l=a(9),d=(a(39),a(3)),o=a(10),u=a.n(o),p=a(13),h=a(15),m=a(16),j=a(18),g=a(17),b=a(11),v=a.n(b),x=a(14),f=a.n(x),O=a.p+"static/media/tattoine.227b8edb.png",P=function(e){return Object(n.jsxs)("div",{className:e.planetId===e.selectedPlanet?"planet-item active":"planet-item",onClick:e.clicked,children:[Object(n.jsx)("img",{src:O,alt:e.name}),Object(n.jsxs)("div",{className:"preview",children:[Object(n.jsx)("h2",{children:e.name}),Object(n.jsx)("p",{children:e.climate})]})]})},w=function(e){return e.planets.map((function(t){return Object(n.jsx)(P,{planetId:t.url.match(/(\d+)/)[0],name:t.name,climate:t.climate,selectedPlanet:e.selectedPlanet,clicked:function(){return e.clicked(t.url.match(/(\d+)/)[0])}},t.url.match(/(\d+)/)[0])}))},k=function(e){Object(j.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={initialPage:e.props.match.params.page,count:null,nextPage:1,prevPage:null,currentPage:1,planets:[],selectedPlanet:[],planetsIsLoaded:!1,selectedPlanetIsLoaded:!1},e.getPlanets=function(){var e=Object(p.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()(t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.onPlanetSelect=function(t){e.getPlanets("planets/".concat(t,"/")).then((function(t){console.log(t),e.setState({selectedPlanet:t.data,selectedPlanetIsLoaded:!0})}))},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.getPlanets("planets/?page=".concat(this.state.initialPage)).then((function(t){console.log(t),e.setState({count:t.data.count,nextPage:t.data.next,prevPage:t.data.previous,planets:t.data.results,planetsIsLoaded:!0})})),this.onPlanetSelect(1)}},{key:"componentDidUpdate",value:function(e,t){var a=this;this.state.currentPage!==t.currentPage&&(console.log("updated"),this.getPlanets("planets/?page=".concat(this.state.currentPage)).then((function(e){a.setState({count:e.data.count,nextPage:e.data.next,prevPage:e.data.previous,planets:e.data.results})})))}},{key:"render",value:function(){var e=Math.ceil(this.state.count/10);return Object(n.jsxs)("div",{className:"planets",children:[this.state.selectedPlanetIsLoaded?Object(n.jsxs)("div",{className:"planets-preview",children:[Object(n.jsx)("img",{src:O,alt:this.state.selectedPlanet.name}),Object(n.jsxs)("div",{className:"planets-preview-desc",children:[Object(n.jsx)("h2",{children:this.state.selectedPlanet.name}),Object(n.jsxs)("ul",{children:[Object(n.jsxs)("li",{children:["Terrain: ",this.state.selectedPlanet.terrain]}),Object(n.jsxs)("li",{children:["Diameter: ",this.state.selectedPlanet.diameter]}),Object(n.jsxs)("li",{children:["Gravity: ",this.state.selectedPlanet.gravity]}),Object(n.jsxs)("li",{children:["Orbital Period: ",this.state.selectedPlanet.orbital_period]}),Object(n.jsxs)("li",{children:["Rotation Period: ",this.state.selectedPlanet.rotation_period]}),Object(n.jsxs)("li",{children:["Surface Water: ",this.state.selectedPlanet.surface_water]}),Object(n.jsxs)("li",{children:["Population: ",this.state.selectedPlanet.orbital_period]})]}),Object(n.jsx)("div",{className:"planets-preview-btn",children:"undefined"!==typeof this.state.selectedPlanet.residents&&this.state.selectedPlanet.residents.length>0?Object(n.jsx)(l.b,{to:this.state.selectedPlanet.url?"/react-star-wars/planet/".concat(this.state.selectedPlanet.url.match(/(\d+)/)[0]):"/react-star-wars/planet/1",className:"trans-rt-lt",children:"Famous Residents"}):null})]})]}):Object(n.jsx)("div",{className:"loader-container",children:Object(n.jsx)(f.a,{type:"Circles",color:"#00BFFF",height:80,width:80})}),this.state.planetsIsLoaded&&this.state.selectedPlanetIsLoaded?Object(n.jsxs)("div",{className:"planets-list-wrapper",children:[Object(n.jsx)(l.b,{to:"/react-star-wars/planets/".concat(this.state.currentPage>1?+this.state.currentPage-1:this.state.currentPage),children:Object(n.jsx)("div",{className:this.state.prevPage?"planet-btn btn-prev":"planet-btn btn-prev btn-disabled",disabled:!this.state.prevPage})}),Object(n.jsx)("div",{className:"planets-list",children:Object(n.jsx)(w,{selectedPlanet:this.state.selectedPlanet.url.match(/(\d+)/)[0],planets:this.state.planets,clicked:this.onPlanetSelect})}),Object(n.jsx)(l.b,{to:"/react-star-wars/planets/".concat(this.state.currentPage<e?+this.state.currentPage+1:this.state.currentPage),children:Object(n.jsx)("div",{className:this.state.nextPage?"planet-btn btn-next":"planet-btn btn-next btn-disabled",disabled:!this.state.nextPage})})]}):Object(n.jsx)("div",{className:"loader-container",children:Object(n.jsx)(f.a,{type:"BallTriangle",color:"#00BFFF",height:80,width:80})})]})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{currentPage:e.match.params.page}}}]),a}(s.Component),y=[{name:"Luke Skywalker",url:"https://geekculture.co/wp-content/uploads/2020/05/mark-hamill-star-wars-luke-skywalker-1.jpg"},{name:"C-3PO",url:"https://hips.hearstapps.com/digitalspyuk.cdnds.net/16/46/1479397679-c-3po-see-threepio-68fe125c.jpeg"},{name:"Darth Vader",url:"https://lumiere-a.akamaihd.net/v1/images/Darth-Vader_6bda9114.jpeg"},{name:"Owen Lars",url:"https://i.ytimg.com/vi/5UW1PIplmlc/maxresdefault.jpg"},{name:"Beru Whitesun lars",url:"https://starwarsblog.starwars.com/wp-content/uploads/sites/6/2017/10/star-wars-a-new-hope-aunt-beru-1.jpg"},{name:"R5-D4",url:"https://cdnb.artstation.com/p/assets/images/images/001/727/465/large/paul-beards-r5-d4-final-preview-01.jpg"},{name:"Biggs Darklighter",url:"https://lumiere-a.akamaihd.net/v1/images/image_606ff7f7.jpeg"},{name:"Anakin Skywalker",url:"https://i0.wp.com/butwhythopodcast.com/wp-content/uploads/2019/12/anakin.jpg"},{name:"Shmi Skywalker",url:"https://i0.wp.com/haruspis.blog/wp-content/uploads/2018/02/shmi15.jpg"},{name:"Cliegg Lars",url:"https://lumiere-a.akamaihd.net/v1/images/databank_cliegglars_01_169_c2f0b9cb.jpeg"},{name:"Leia Organa",url:"https://am21.mediaite.com/tms/cnt/uploads/2018/06/leia-organa-star-wars-1200x669.png"},{name:"Bail Prestor Organa",url:"https://i.insider.com/5854052eaca05924008b4a36?width=1100&format=jpeg"},{name:"Raymus Antilles",url:"https://lumiere-a.akamaihd.net/v1/images/databank_captainantilles_01_169_75e05265.jpeg"},{name:"Raymus Antilles",url:"https://lumiere-a.akamaihd.net/v1/images/databank_captainantilles_01_169_75e05265.jpeg"},{name:"Raymus Antilles",url:"https://lumiere-a.akamaihd.net/v1/images/databank_captainantilles_01_169_75e05265.jpeg"},{name:"Raymus Antilles",url:"https://lumiere-a.akamaihd.net/v1/images/databank_captainantilles_01_169_75e05265.jpeg"},{name:"Raymus Antilles",url:"https://lumiere-a.akamaihd.net/v1/images/databank_captainantilles_01_169_75e05265.jpeg"},{name:"Raymus Antilles",url:"https://lumiere-a.akamaihd.net/v1/images/databank_captainantilles_01_169_75e05265.jpeg"}],_=function(e){return e.residents.map((function(e,t){var a=y.find((function(t){return t.name===e}));return Object(n.jsxs)("div",{className:"resident-card",children:[a?Object(n.jsx)("div",{className:"resident-card-img",style:{backgroundImage:"url(".concat(a.url,")")}}):null,Object(n.jsxs)("h2",{children:[" ",e]})]},t)}))},N=function(e){Object(j.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={planetId:e.props.match.params.url,name:"",residents:null,isResidentsLoaded:!1},e.getPlanetDescription=function(){var e=Object(p.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()(t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.getResidents=function(){var e=Object(p.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()(t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.getPlanetDescription("planets/".concat(this.state.planetId,"/")).then((function(t){if(e.setState({name:t.data.name}),Array.isArray(t.data.residents)&&t.data.residents.length){var a=t.data.residents.map((function(e){return e.match(/(\d+)/)[0]}));Promise.all(a.map((function(t){return e.getResidents("people/".concat(t,"/"))}))).then((function(t){console.log(t),e.setState({residents:t.map((function(e){return e.data.name})),isResidentsLoaded:!0})}))}}))}},{key:"render",value:function(){var e=this.state;return Object(n.jsxs)("div",{className:"famous-residents",children:[Object(n.jsx)("h2",{className:"famous-residents-heading",children:e.name}),e.isResidentsLoaded?Object(n.jsx)("div",{className:"famous-residents-list",children:Object(n.jsx)(_,{residents:e.residents})}):Object(n.jsx)("div",{className:"loader-container",children:Object(n.jsx)(f.a,{type:"Circles",color:"#00BFFF",height:80,width:80})})]})}}]),a}(s.Component),L=a.p+"static/media/logo.4c69738d.png";var S=function(){return Object(n.jsx)("header",{className:"header",children:Object(n.jsx)(l.b,{to:"/react-star-wars/planets/1",children:Object(n.jsx)("img",{src:L,alt:"star-wars-logo",className:"logo"})})})};a(82);var F=function(){return Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(S,{}),Object(n.jsx)(d.a,{exact:!0,path:"/react-star-wars/planets/:page",component:k}),Object(n.jsx)(d.a,{exact:!0,path:"/react-star-wars/planet/:url",component:N})]})},I=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,84)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),n(e),s(e),r(e),i(e)}))};v.a.defaults.baseURL="https://swapi.dev/api/",c.a.render(Object(n.jsx)(l.a,{children:Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(F,{})})}),document.getElementById("root")),I()}},[[83,1,2]]]);
//# sourceMappingURL=main.4f5d4e32.chunk.js.map