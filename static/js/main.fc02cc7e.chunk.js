(this["webpackJsonpreact-star-wars"]=this["webpackJsonpreact-star-wars"]||[]).push([[0],{52:function(t,e,a){},76:function(t,e,a){},77:function(t,e,a){"use strict";a.r(e);var n=a(2),r=a(0),s=a.n(r),c=a(24),i=a.n(c),o=a(18),l=(a(52),a(5)),u=a(20),p=a.n(u),d=a(26),h=a(28),j=a(19),m=a(32),b=a(31),v=a(8),g=a(101),x=a(97),f=a(98),O=a(100),P=a(23),y=a.n(P),w=function(t){Object(m.a)(a,t);var e=Object(b.a)(a);function a(){var t;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=e.call.apply(e,[this].concat(r))).state={initialPage:t.props.match.params.page,count:null,nextPage:1,prevPage:null,currentPage:1,planets:[]},t.getPlanets=function(){var t=Object(d.a)(p.a.mark((function t(e){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y()(e);case 2:return a=t.sent,t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),t}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var t=this;this.getPlanets("planets/?page=".concat(this.state.initialPage)).then((function(e){t.setState({count:e.data.count,nextPage:e.data.next,prevPage:e.data.previous,planets:e.data.results})}))}},{key:"componentDidUpdate",value:function(t,e){var a=this;this.state.currentPage!==e.currentPage&&this.getPlanets("planets/?page=".concat(this.state.currentPage)).then((function(t){a.setState({count:t.data.count,nextPage:t.data.next,prevPage:t.data.previous,planets:t.data.results})}))}},{key:"render",value:function(){var t=this.props.classes,e=Math.ceil(this.state.count/10),a=this.state.planets.map((function(e,a){return Object(n.jsx)(g.a,{className:t.root,children:Object(n.jsx)(o.b,{to:"/react-star-wars/planet/".concat(e.url.match(/(\d+)/)[0]),className:"card-link",children:Object(n.jsxs)(x.a,{children:[Object(n.jsx)(f.a,{variant:"h5",component:"h2",children:e.name}),Object(n.jsx)(f.a,{className:t.pos,color:"textSecondary",children:e.climate}),Object(n.jsxs)(f.a,{variant:"body2",component:"p",children:["Population: ",e.population]})]})})},a)}));return Object(n.jsxs)("div",{className:"planets",children:[Object(n.jsx)("div",{className:"planets-list",children:a}),Object(n.jsxs)("div",{className:"planets-buttons",children:[Object(n.jsx)(o.b,{to:"/react-star-wars/planets/".concat(this.state.currentPage>1?+this.state.currentPage-1:this.state.currentPage),children:Object(n.jsx)(O.a,{variant:"contained",color:"primary",disabled:!this.state.prevPage,children:"Prev"})}),Object(n.jsx)(o.b,{to:"/react-star-wars/planets/".concat(this.state.currentPage<e?+this.state.currentPage+1:this.state.currentPage),children:Object(n.jsx)(O.a,{variant:"contained",color:"primary",disabled:!this.state.nextPage,children:"Next"})})]})]})}}],[{key:"getDerivedStateFromProps",value:function(t,e){return{currentPage:t.match.params.page}}}]),a}(r.Component),N=Object(v.a)((function(t){return{root:{margin:10,flex:"0 18%"},pos:{marginBottom:12}}}),{withTheme:!0})(w),k=a(99),S=function(t){Object(m.a)(a,t);var e=Object(b.a)(a);function a(){var t;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=e.call.apply(e,[this].concat(r))).state={planetId:t.props.match.params.url,name:"",rotationPeriod:"",diameter:"",climate:"",gravity:"",terrain:"",population:"",residents:[]},t.getPlanetDescription=function(){var t=Object(d.a)(p.a.mark((function t(e){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y()(e);case 2:return a=t.sent,t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),t.getResidents=function(){var t=Object(d.a)(p.a.mark((function t(e){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y()(e);case 2:return a=t.sent,t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),t}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var t=this;this.getPlanetDescription("planets/".concat(this.state.planetId,"/")).then((function(e){if(t.setState({name:e.data.name,rotationPeriod:e.data.rotation_period,diameter:e.data.diameter,climate:e.data.climate,gravity:e.data.gravity,terrain:e.data.terrain,population:e.data.population}),Array.isArray(e.data.residents)&&e.data.residents.length){var a=e.data.residents.map((function(t){return t.match(/(\d+)/)[0]}));Promise.all(a.map((function(e){return t.getResidents("people/".concat(e,"/"))}))).then((function(e){t.setState({residents:e.map((function(t){return t.data.name})).join(", ")})}))}else t.setState({residents:"No data available"})}))}},{key:"render",value:function(){var t=this.state;return Object(n.jsx)("div",{className:"planet-description",children:Object(n.jsxs)(k.a,{maxWidth:"sm",className:"planet-description-box",children:[Object(n.jsx)("h2",{children:t.name}),Object(n.jsxs)("div",{className:"planet-description-list",children:[Object(n.jsxs)("p",{children:[" Rotation Period: ",t.rotationPeriod]}),Object(n.jsxs)("p",{children:[" Diameter: ",t.diameter]}),Object(n.jsxs)("p",{children:[" Climate: ",t.climate]}),Object(n.jsxs)("p",{children:[" Gravity: ",t.gravity]}),Object(n.jsxs)("p",{children:[" Terrain: ",t.terrain]}),Object(n.jsxs)("p",{children:[" Population: ",t.population]}),Object(n.jsxs)("p",{children:[" Residents: ",t.residents]})]})]})})}}]),a}(r.Component),D=a.p+"static/media/logo.4c69738d.png";var C=function(){return Object(n.jsx)("header",{className:"header",children:Object(n.jsx)(o.b,{to:"/1",children:Object(n.jsx)("img",{src:D,alt:"star-wars-logo",className:"logo"})})})};a(76);var A=function(){return Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(C,{}),Object(n.jsx)(l.a,{exact:!0,path:"/react-star-wars/planets/:page",component:N}),Object(n.jsx)(l.a,{exact:!0,path:"/react-star-wars/planet/:url",component:S})]})},F=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,102)).then((function(e){var a=e.getCLS,n=e.getFID,r=e.getFCP,s=e.getLCP,c=e.getTTFB;a(t),n(t),r(t),s(t),c(t)}))};y.a.defaults.baseURL="http://swapi.dev/api/",i.a.render(Object(n.jsx)(o.a,{children:Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(A,{})})}),document.getElementById("root")),F()}},[[77,1,2]]]);
//# sourceMappingURL=main.fc02cc7e.chunk.js.map